- 概要
    - 2023年10月28日、「弁財天」というAIメロディー生成コンテストにチームメンバーのCapchiiと一緒に出場しました。このイベントでは、伴奏のデータが提供され、それに対して各チームは制限時間内に自身のメロディー生成システムを実行し、生成されたメロディーが聴講者の投票によって評価されます。結果として、我々のチームは2位(7チーム中)を獲得。私たちが心がけていたポイントは、王道なメロディーの作成や特定のメロディーラインの選定、そして後処理を施すことでした。
    - 本ブログでは、このイベントについての振り返りを行います。実際に生成したメロディーや出場しての感想等を提供します。

- 対象の読者
    - 対象 : AIを用いた音楽生成の技術に興味のある方。
    - 対象 : AIで現状どれほどのメロディーができるのか聞いてみたい方。
    - 対象 : AIメロディー生成コンテスト 弁財天 というイベントに興味のある方。
    - 対象 : 私の日記に興味のある方。
    - 推奨 : ある程度、音楽理論の言葉が分かる人だとより理解が深まります。音楽理論周りの用語をここで解説し切ることは不可能だからです。
    - 推奨 : ある程度、機械学習の言葉が分かる人だとより理解が深まります。理由は同上です。
    - 非対象 : 具体的な実装を知りたい方
    - 非対象 : 網羅的に音楽生成技術の全体像を把握したい方


- 2023-10-28、弁財天というイベントが行われ、私はチームメンバーと共に参加しました。
    - 弁財天とは、AIメロディー生成コンテスト。
    - 対戦者には、伴奏のデータ(MIDIやコード進行のテキスト)が与えられる。
    - 対戦者は自身が開発したメロディー生成システムをその場で実行する。(制限時間5分)
    - 勝敗は、生成されたメロディーをその場で聞いて聴講者のその場の投票によって決定される。
    - 前回の大会の様子はyoutubeに上がっています。例えば決勝戦ではこんなメロディーで対決されていました。 https://youtu.be/XGJ9yYTPLvk?si=KeIgCtrprG_1fzI6&t=253

- 結果
    - 2位でした。
    - 対戦で生成したメロディーをここでは振り返りたいと思います。権利も伴奏の作成者である指ヨシキGOさん([X](https://twitter.com/orinera))に確認済みです。
    - 初戦
        - 大きく聞こえるフルートの音が生成されたメロディーです。
        - https://youtu.be/Y4CM584SY48
        - ギリギリ勝利でした。マジで危ない。
    - 準決勝
        - https://youtu.be/gTyMoIHVE2A
        - これまじで、困りました。以下の難しい要素があります。
            - コード進行が一定かつ、メロディーの繰り返し構造が一定であるため、メロディーの生成が難しい。
            - そもそもメロディーなしの状態で完成されている。
            - ピアノがメロディーラインとなっていて、下手にメロディーをつけると邪魔になる。
            - こういう曲がそもそも学習データに少ない。
        - この伴奏が流れた瞬間4チームとも一気に表情が変わったのを覚えています。作成者の思惑通りです。 https://x.com/orinera/status/1718294370615689571?s=20
    - 決勝
        - https://youtu.be/b7mVzkvoUFk
        - 僅差で負けました。
        - これまじで、いいメロディーだと思うんだけどなぁ。


- 我々が心がけていたこと
    - 王道なメロディーを作れるモデル選定
        - モチーフと言われる短いメロディーの繰り返し構造がちゃんと存在するか？
            - 繰り返し構造ですが、やはり段々と変化させていきます。
            - これが王道なメロディーの作り方と言われています。参考 https://soundquest.jp/quest/melody/melody-mv1/motif-and-variations/ 
        - 適度に休符は存在するか？
            - これは息継ぎだけでなく、聴講者にメロディーを理解/記憶させる時間を作るという重要な役割を果たします。
        - アウトロではちゃんと中心音に着地するようなメロディーが生成されるか？
            - これは、聴講者に明確な終止感を与えます。
    - メロディーに後処理で我々の味をつける
    - フルート、ボーカルっぽいメロディーを選ぶこと
    - キャッチーなメロディーを選ぶこと
    - 減点が少ないメロディーを選ぶこと

- 解法をざっくりと共有する。3分LTの資料なので本当にざっくりと雰囲気を感じ取ってもらえたら嬉しい。
![](LT1.jpg)
![](LT2.jpg)
![](LT3.jpg)
![](LT4.jpg)
![](LT5.jpg)
![](LT6.jpg)
![](LT7.jpg)
 


- 敗因(と推測されること)
    - 投票者の好みには合わなかった
        - 現状、このイベントはマニアックなイベントとなっており、相当な音楽好きが参加する傾向である。
        - とすれば、キャッチーなメロディ、王道なメロディーというのは、もはや投票者からすると飽きられているものになっていたのかもしれない。
        - 投票の傾向からすると、アドリブギターソロみたいな詰め込み系っぽいメロディーを好む人が多いと推測される。
    - アドリブっぽいメロディーではなかった
        - 投票フォームには「どちらのアドリブが良かったか」と記載されている。
        - そのため、よりアドリブ演奏っぽいものが選ばれる傾向になったのかもしれない。
    


- 感想
    - まずは、チームメンバーの Capchii ([X](https://twitter.com/Capchii), [Youtube](https://www.youtube.com/channel/UCmNqrPSZg13AUyxsrY7iylg)) に感謝です。音楽知識の周りで大変お世話になりました。MIDIの仕様の理解、味をつける後処理の実装など二人でなければなかなかできないことは多かったと思います。
    - 競技では、チームメンバー二人とも納得の行くサブ(メロディー選定、および提出のこと)をできたので後悔はありません。
    - とはいえ、優勝できなかったのは悔しいです。
    - メロディーのキャッチーさでいえば、優勝していたと個人的に思っています(負け惜しみ)。